# 테스트 환경 Replica 설정 (최소 리소스)

---
# PostgreSQL
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: postgresql
  namespace: shop-msa
spec:
  replicas: 1  # 테스트는 단일 인스턴스

---
# Redis Master
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: redis-master
  namespace: shop-msa
spec:
  replicas: 1

---
# Redis Replica
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: redis-replica
  namespace: shop-msa
spec:
  replicas: 1  # 테스트는 1개만

---
# Redis Sentinel
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: redis-sentinel
  namespace: shop-msa
spec:
  replicas: 1  # 테스트는 1개만 (운영은 3개 권장)

---
# Zookeeper
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: zookeeper
  namespace: shop-msa
spec:
  replicas: 1  # 테스트는 단일 노드

---
# Kafka
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: kafka
  namespace: shop-msa
spec:
  replicas: 1  # 테스트는 단일 브로커
